<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Traces</title>
    <link rel='stylesheet' href='../semantic.min.css'>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
<div class="ui sidebar vertical left menu overlay visible very thin icon spp_blue"
     style="-webkit-transition-duration: 0.1s; overflow: visible !important;">
    <div class="ui accordion displaynone">
        <a class="item openbtn" style="background-color: white; height: 45px !important;">Close menu</a>
        <a id="sidebar_overview_link" class="item inactive_tab" href="overview.html">Dashboard</a>

        <div class="title item active_tab">
            <i class="dropdown icon"></i> Traces
        </div>
        <div class="content">
            <a id="sidebar_traces_link_latest" class="item sidebar_sub_text_color" href="traces.html">Latest</a>
            <a id="sidebar_traces_link_slowest" class="item sidebar_sub_text_color" href="traces.html">Slowest</a>
        </div>
    </div>
    <div class="ui dropdown item openbtn" style="color: white">
        <i class="icon demo-icon content"></i>
    </div>
    <a id="overview_link" class="ui item hide_on_toggle" href="overview.html">
        <i class="icon demo-icon dashboard inactive_tab"></i>
    </a>
    <div class="ui dropdown item active_tab">
        <z class="displaynone">Traces</z>
        <i class="icon demo-icon code"></i>

        <div class="menu">
            <a id="traces_link_latest" class="item" href="traces.html">Latest</a>
            <a id="traces_link_slowest" class="item" href="traces.html">Slowest</a>
        </div>
    </div>
</div>
<div class="pusher">
    <div class="ui menu borderless marginlefting spp_blue"
         style="border-radius: 0 !important; border: 0; -webkit-transition-duration: 0.1s; height: 45px; margin-bottom: 0">
        <a id="latest_traces_header" onclick="goBackToLatestTraces(true)" class="item active_tab">
            Latest Traces
        </a>
        <a id="trace_stack_header" onclick="goBackToTraceStack()" class="item" style="visibility: hidden">
            Trace Stack
        </a>
        <a id="span_info_header" class="item" style="visibility: hidden">
            Span Info
        </a>
        <div class="right menu">
        </div>
    </div>
    <div class="wide column marginlefting">
        <div id="trace_bar" class="column" style="background-color: #f3f4f5">
            <div class="ui form" style="padding-left: 6px;">
                <div class="inline fields" style="height: 45px; margin-bottom: 0">
                    <span>
                        <div id="traces_span" class="field">
                            <label>Start</label>
                            <input id="traces_start_field" type="text" style="width: 210px" readonly>
                            <label>Stop</label>
                            <input id="traces_stop_field" type="text" style="width: 210px" readonly>
                            <label id="traces_total_label">Total: 0</label>
                        </div>
                    </span>

                    <span id="trace_stack_span" style="display: none;">
                        <div class="field">
                            <label>Trace Id</label>
                            <input id="trace_id_field" type="text" style="width: 210px" readonly>
                            <label>Occurred</label>
                            <input id="time_occurred_field" type="text" style="width: 210px" readonly>
                        </div>
                    </span>
                    <span id="segment_id_span" style="display: none;">
                        <div class="field">
                            <label>Segment Id</label>
                            <input id="segment_id_field" type="text" readonly>
                        </div>
                    </span>
                </div>
            </div>
        </div>

        <table style="margin-top: 0" id="top_trace_table" class="ui celled striped table unstackable">
            <thead>
            <tr>
                <th>Operation</th>
                <th style="text-align: center">Occurred</th>
                <th style="text-align: center">Exec</th>
                <th style="text-align: center">Status</th>
            </tr>
            </thead>
            <tbody id="trace_table">
            </tbody>
        </table>
        <table id="trace_stack_table" style="visibility: hidden; margin-top: 0"
               class="ui celled striped table unstackable">
            <thead>
            <tr>
                <th>Operation</th>
                <th style="text-align: center">Exec</th>
                <th style="text-align: center">Exec (%)</th>
            </tr>
            </thead>
            <tbody id="stack_table">
            </tbody>
        </table>
        <div id="span_info_panel" style="visibility: hidden">
            <div class="ui segments">
                <div class="ui segment">
                    <p>
                        Start time: <span id="span_info_start_time"></span>
                        (<span id="span_info_start_trace_time" class="trace_time"></span>)
                    </p>
                    <p>
                        Start time: <span id="span_info_end_time"></span>
                        (<span id="span_info_end_trace_time" class="trace_time"></span>)
                    </p>
                </div>
                <div id="span_tag_div" class="ui segment displaynone" style="padding: 0">
                    <table id="span_tag_table" class="ui celled striped table unstackable">
                        <thead>
                        <tr>
                            <th>Tag</th>
                            <th>Value</th>
                        </tr>
                        </thead>
                        <tbody id="tag_table">
                        </tbody>
                    </table>
                </div>
                <div id="span_log_div" class="ui segment displaynone" style="padding: 0">
                    <table id="log_tag_table" class="ui celled striped table unstackable">
                        <thead>
                        <tr>
                            <th>Trace Logs</th>
                        </tr>
                        </thead>
                        <tbody id="log_table">
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
<script src='../jquery-3.1.1.min.js'></script>
<script src='../semantic.min.js'></script>
<script>
    $(document).ready(function () {
        $('.ui.dropdown').dropdown()
        $('.ui.sidebar').sidebar('setting', 'transition', 'overlay')
    });

    $(".openbtn").on("click", function () {
        $(".ui.sidebar").toggleClass("very thin icon");
        $(".asd").toggleClass("marginlefting");
        $(".sidebar z").toggleClass("displaynone");
        $(".ui.accordion").toggleClass("displaynone");
        $(".ui.dropdown.item").toggleClass("displaynone");
        $(".hide_on_toggle").toggleClass("displaynone");
        $(".pusher").toggleClass("dimmed");

        $(".logo").find('img').toggle();

    });
    $('.ui.accordion').accordion({
        selector: {}
    });
</script>
<!--<script src="../themes/default/assets/charts/gray.js"></script>-->
<script src="../moment.min.js"></script>
<script src="../sockjs.min.js"></script>
<script src='../vertx-eventbus.min.js'></script>
<script src='../source_plugin_bridge.js'></script>
<script src='js/traces.js'></script>
</body>
</html>